<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <div th:include="partials/head.html :: head"></div>
    <title>Results</title>
</head>
<body>


    <section class="container-fluid w-75 text-center">
        <input type="hidden" id="score" th:value="${score}">
        <h3 class="text-light fs-1">SCORE: <span id="scoreCounter"></span> </h3>
        <div class="row d-flex m-0 p-0">
    <div class="col-12 col-sm-6">
        <h4 class="text-light fs-1 bg-success">CORRECT ANSWERS</h4>
        <ul class="list-group list-group-flush">
            <li class="list-group-item" th:each="correctQ, int : ${correctQs}">
                <p class="questionsResults" th:text="${correctQ.question}"></p>
                <p class="bg-success">Correct Answer: <span th:text="${correctAnswers.get(int.index)}"></span> </p>
            </li>
        </ul>
    </div>
    <div class="col-12 col-sm-6">
        <h4 class="text-light fs-1 bg-danger">INCORRECT ANSWERS</h4>
        <ul class="list-group list-group-flush">
            <li class="list-group-item" th:each="incorrectQ, int : ${incorrectQs}">
                <p class="questionsResults" th:text="${incorrectQ.question}"></p>
                <p class="bg-danger">Submitted Answer: <span th:text="${submittedAnswers.get(int.index)}"></span></p>
                <p class="bg-success">Correct Answer: <span th:text="${incorrectAnswers.get(int.index)}"></span> </p>
            </li>
        </ul>
    </div>
        </div>
    </section>

<div th:include="partials/footerNav.html :: footerNav"></div>
<div th:include="partials/scripts.html :: scripts"></div>
    <script type="text/javascript">
        let scoreToCount = parseInt($('#score').val())
        console.log(scoreToCount)
        let zero = 0
        function scoreCounter() {
            var scoreCount = setInterval(function () {
                if (zero === scoreToCount) {
                    console.log("done")
                    $('#scoreCounter').html(zero)
                    clearInterval(scoreCount)
                    $('#congrats').show()
                } else {
                    console.log(zero)
                    zero = zero + 5
                    $('#scoreCounter').html(zero)
                }
            }, 10)
        }
        scoreCounter()
    </script>
</body>
</html>